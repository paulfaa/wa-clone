<img
    class="message-image"
    *ngIf="(messageInput.filename || messageInput.image) && !imageError"
    [src]="src"
    loading="lazy"
    (error)="onImageError($event)"
/>
<div *ngIf="messageInput.caption" class="caption-text">
    {{ messageInput.caption }}
</div>

<div *ngIf="imageError" class="image-error" [title]="src">
    Failed to load image {{ messageInput.filename }}
</div>
